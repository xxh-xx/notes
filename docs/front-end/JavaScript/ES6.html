<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 | Some Notes</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/notes/assets/css/0.styles.df554011.css" as="style"><link rel="preload" href="/notes/assets/js/app.98e544da.js" as="script"><link rel="preload" href="/notes/assets/js/2.5375f91f.js" as="script"><link rel="preload" href="/notes/assets/js/13.f0d0efc4.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.0753cc9f.js"><link rel="prefetch" href="/notes/assets/js/11.0b2d326e.js"><link rel="prefetch" href="/notes/assets/js/12.197a8347.js"><link rel="prefetch" href="/notes/assets/js/14.89fb7710.js"><link rel="prefetch" href="/notes/assets/js/3.b694de4d.js"><link rel="prefetch" href="/notes/assets/js/4.d1188e69.js"><link rel="prefetch" href="/notes/assets/js/5.af02128b.js"><link rel="prefetch" href="/notes/assets/js/6.a8a31aa8.js"><link rel="prefetch" href="/notes/assets/js/7.ef983566.js"><link rel="prefetch" href="/notes/assets/js/8.03b6b307.js"><link rel="prefetch" href="/notes/assets/js/9.c46dcef6.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.df554011.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><!----> <span class="site-name">Some Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端菜单" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端菜单" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/front-end/CSS/transform.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/notes/front-end/JavaScript/ES6.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="https://xxh-xx.github.io/notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端菜单" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端菜单" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/front-end/CSS/transform.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/notes/front-end/JavaScript/ES6.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="https://xxh-xx.github.io/notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/front-end/JavaScript/ES6.html" aria-current="page" class="active sidebar-link">ES6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用箭头函数编写简洁的匿名函数" class="sidebar-link">使用箭头函数编写简洁的匿名函数</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#编写带参数的箭头函数" class="sidebar-link">编写带参数的箭头函数</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#设置函数的默认参数" class="sidebar-link">设置函数的默认参数</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#将-rest-操作符与函数参数一起使用" class="sidebar-link">将 rest 操作符与函数参数一起使用</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用-spread-运算符展开数组项" class="sidebar-link">使用 spread 运算符展开数组项</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用解构赋值来获取对象的值" class="sidebar-link">使用解构赋值来获取对象的值</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用解构赋值从对象中分配变量" class="sidebar-link">使用解构赋值从对象中分配变量</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用解构赋值从嵌套对象中分配变量" class="sidebar-link">使用解构赋值从嵌套对象中分配变量</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用解构赋值从数组中分配变量" class="sidebar-link">使用解构赋值从数组中分配变量</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用解构赋值配合-rest-操作符来重新分配数组元素" class="sidebar-link">使用解构赋值配合 rest 操作符来重新分配数组元素</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用解构赋值将对象作为函数的参数传递" class="sidebar-link">使用解构赋值将对象作为函数的参数传递</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用模板字面量创建字符串" class="sidebar-link">使用模板字面量创建字符串</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用简单字段编写简洁的对象字面量声明" class="sidebar-link">使用简单字段编写简洁的对象字面量声明</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#用-es6-编写简洁的函数声明" class="sidebar-link">用 ES6 编写简洁的函数声明</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用-class-语法定义构造函数" class="sidebar-link">使用 class 语法定义构造函数</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用-getter-和-setter-来控制对象的访问" class="sidebar-link">使用 getter 和 setter 来控制对象的访问</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#创建一个模块脚本" class="sidebar-link">创建一个模块脚本</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#用-export-来重用代码块" class="sidebar-link">用 export 来重用代码块</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#通过-import-复用-javascript-代码" class="sidebar-link">通过 import 复用 JavaScript 代码</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#用-从文件中导入所有内容" class="sidebar-link">用 * 从文件中导入所有内容</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#用-export-default-创建一个默认导出" class="sidebar-link">用 export default 创建一个默认导出</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#导入一个默认的导出" class="sidebar-link">导入一个默认的导出</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#创建一个-javascript-promise" class="sidebar-link">创建一个 JavaScript Promise</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#通过-resolve-和-reject-完成-promise" class="sidebar-link">通过 resolve 和 reject 完成 Promise</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#用-then-处理-promise-完成的情况" class="sidebar-link">用 then 处理 Promise 完成的情况</a></li><li class="sidebar-sub-header"><a href="/notes/front-end/JavaScript/ES6.html#使用-catch-处理-promise-失败的情况" class="sidebar-link">使用 catch 处理 Promise 失败的情况</a></li></ul></li><li><a href="/notes/front-end/JavaScript/regular.html" class="sidebar-link">正则表达式</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6"><a href="#es6" class="header-anchor">#</a> ES6</h1> <h2 id="使用箭头函数编写简洁的匿名函数"><a href="#使用箭头函数编写简洁的匿名函数" class="header-anchor">#</a> 使用箭头函数编写简洁的匿名函数</h2> <p>在 JavaScript 里，我们会经常遇到不需要给函数命名的情况，尤其是在需要将一个函数作为参数传给另外一个函数的时候。 这时，我们会创建匿名函数。 因为这些函数不会在其他地方复用，所以我们不需要给它们命名。</p> <p>这种情况下，我们通常会使用以下语法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> myVar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ES6 提供了其他写匿名函数的方式的语法糖。 你可以使用<strong>箭头函数</strong>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> myVar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>当不需要函数体，只返回一个值的时候，箭头函数允许你省略 <code>return</code> 关键字和外面的大括号。 这样就可以将一个简单的函数简化成一个单行语句。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这段代码默认会返回字符串 <code>value</code>。</p> <h2 id="编写带参数的箭头函数"><a href="#编写带参数的箭头函数" class="header-anchor">#</a> 编写带参数的箭头函数</h2> <p>和一般的函数一样，你也可以给箭头函数传递参数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">doubler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token function">doubler</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>doubler(4)</code> 将返回 <code>8</code>。</p> <p>如果箭头函数只有一个参数，则可以省略参数外面的括号。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">doubler</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以给箭头函数传递多个参数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">multiplier</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> multi</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">*</span> multi<span class="token punctuation">;</span>
<span class="token function">multiplier</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>multiplier(4, 2)</code> 将返回 <code>8</code>。</p> <h2 id="设置函数的默认参数"><a href="#设置函数的默认参数" class="header-anchor">#</a> 设置函数的默认参数</h2> <p>ES6 里允许给函数传入默认参数，来构建更加灵活的函数。</p> <p>请看以下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> greeting <span class="token operator">=</span> <span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;Anonymous&quot;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Hello &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>控制台将显示字符串 <code>Hello John</code> 和 <code>Hello Anonymous</code>。</p> <p>默认参数会在参数没有被指定（值为 undefined）的时候起作用。 在上面的例子中，参数 <code>name</code> 会在没有得到新的值的时候，默认使用值 <code>Anonymous</code>。 你还可以给多个参数赋予默认值。</p> <h2 id="将-rest-操作符与函数参数一起使用"><a href="#将-rest-操作符与函数参数一起使用" class="header-anchor">#</a> 将 rest 操作符与函数参数一起使用</h2> <p>ES6 推出了用于函数参数的 rest 操作符帮助我们创建更加灵活的函数。 rest 操作符可以用于创建有一个变量来接受多个参数的函数。 这些参数被储存在一个可以在函数内部读取的数组中。</p> <p>请看以下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">howMany</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;You have passed &quot;</span> <span class="token operator">+</span> args<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token string">&quot; arguments.&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">howMany</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">howMany</span><span class="token punctuation">(</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>控制台将显示字符串 <code>You have passed 3 arguments.</code> 和 <code>You have passed 4 arguments.</code>。</p> <p>使用 rest 参数，就不需要查看 <code>args</code> 数组，并且允许我们在参数数组上使用 <code>map()</code>、<code>filter()</code> 和 <code>reduce()</code>。</p> <h2 id="使用-spread-运算符展开数组项"><a href="#使用-spread-运算符展开数组项" class="header-anchor">#</a> 使用 spread 运算符展开数组项</h2> <p>ES6 引入了展开操作符，可以展开数组以及需要多个参数或元素的表达式。</p> <p>下面的 ES5 代码使用了 <code>apply()</code> 来计算数组的最大值：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> maximus <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>maximus</code> 的值为 <code>89</code>。</p> <p>我们必须使用 <code>Math.max.apply(null, arr)</code>，因为 <code>Math.max(arr)</code> 返回 <code>NaN</code>。 <code>Math.max()</code> 函数中需要传入的是一系列由逗号分隔的参数，而不是一个数组。 展开操作符可以提升代码的可读性，使代码易于维护。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> maximus <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>maximus</code> 的值应该是 <code>89</code>。</p> <p><code>...arr</code> 返回一个解压的数组。 也就是说，它<em>展开</em>数组。 然而，展开操作符只能够在函数的参数中或者数组中使用。 下面的代码将会报错：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> spreaded <span class="token operator">=</span> <span class="token operator">...</span>arr<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="使用解构赋值来获取对象的值"><a href="#使用解构赋值来获取对象的值" class="header-anchor">#</a> 使用解构赋值来获取对象的值</h2> <p>解构赋值是 ES6 引入的新语法，用来从数组和对象中提取值，并优雅地对变量进行赋值。</p> <p>有如下 ES5 代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'John Doe'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">34</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> name <span class="token operator">=</span> user<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> user<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>name</code> 的值应该是字符串 <code>John Doe</code>， <code>age</code> 的值应该是数字 <code>34</code>。</p> <p>下面是使用 ES6 解构赋值语句，实现相同效果：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> user<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>同样，<code>name</code> 的值应该是字符串 <code>John Doe</code>， <code>age</code> 的值应该是数字 <code>34</code>。</p> <p>在这里，自动创建 <code>name</code> 和 <code>age</code> 变量，并将 <code>user</code> 对象相应属性的值赋值给它们。 这个方法简洁多了。</p> <p>你可以从对象中提取尽可能多或很少的值。</p> <h2 id="使用解构赋值从对象中分配变量"><a href="#使用解构赋值从对象中分配变量" class="header-anchor">#</a> 使用解构赋值从对象中分配变量</h2> <p>可以给解构的值赋予一个新的变量名， 通过在赋值的时候将新的变量名放在冒号后面来实现。</p> <p>还是以上个例子的对象来举例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'John Doe'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">34</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这是指定新的变量名的例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> userName<span class="token punctuation">,</span> age<span class="token operator">:</span> userAge <span class="token punctuation">}</span> <span class="token operator">=</span> user<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>你可以这么理解这段代码：获取 <code>user.name</code> 的值，将它赋给一个新的变量 <code>userName</code>，等等。 <code>userName</code> 的值将是字符串 <code>John Doe</code>，<code>userAge</code> 的值将是数字 <code>34</code>。</p> <h2 id="使用解构赋值从嵌套对象中分配变量"><a href="#使用解构赋值从嵌套对象中分配变量" class="header-anchor">#</a> 使用解构赋值从嵌套对象中分配变量</h2> <p>使用前两节中相同的原则来解构嵌套对象中的值。</p> <p>使用与前面的例子中类似的对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  johnDoe<span class="token operator">:</span> <span class="token punctuation">{</span> 
    age<span class="token operator">:</span> <span class="token number">34</span><span class="token punctuation">,</span>
    email<span class="token operator">:</span> <span class="token string">'johnDoe@freeCodeCamp.com'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这是解构对象的属性值赋值给具有相同名字的变量：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> johnDoe<span class="token operator">:</span> <span class="token punctuation">{</span> age<span class="token punctuation">,</span> email <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> user<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这是将对象的属性值赋值给具有不同名字的变量：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> johnDoe<span class="token operator">:</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> userAge<span class="token punctuation">,</span> email<span class="token operator">:</span> userEmail <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> user<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="使用解构赋值从数组中分配变量"><a href="#使用解构赋值从数组中分配变量" class="header-anchor">#</a> 使用解构赋值从数组中分配变量</h2> <p>在 ES6 里面，解构数组可以如同解构对象一样简单。</p> <p>与数组解构不同，数组的扩展运算会将数组里的所有内容分解成一个由逗号分隔的列表。 所以，你不能选择哪个元素来给变量赋值。</p> <p>而对数组进行解构却可以让我们做到这一点：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>控制台将显示 <code>a</code> 和 <code>b</code> 的值为 <code>1, 2</code>。</p> <p>数组的第一个值被赋值给变量 <code>a</code>，数组的第二个值被赋值给变量 <code>b</code>。 我们甚至能在数组解构中使用逗号分隔符，来获取任意一个想要的值：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>控制台将显示 <code>a</code>、<code>b</code> 和 <code>c</code> 的值为 <code>1, 2, 5</code>。</p> <h2 id="使用解构赋值配合-rest-操作符来重新分配数组元素"><a href="#使用解构赋值配合-rest-操作符来重新分配数组元素" class="header-anchor">#</a> 使用解构赋值配合 rest 操作符来重新分配数组元素</h2> <p>在解构数组的某些情况下，我们可能希望将剩下的元素放进另一个数组里面。</p> <p>以下代码的结果与使用 <code>Array.prototype.slice()</code> 类似：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>arr<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>控制台将显示 <code>1, 2</code> 和 <code>[3, 4, 5, 7]</code>。</p> <p>变量 <code>a</code> 和 <code>b</code> 分别接收数组的第一个和第二个值。 之后，因为 rest 操作符的存在，<code>arr</code> 获取了原数组剩余的元素的值。 rest 操作符只能对数组列表最后的元素起作用。 这意味着你不能使用 rest 操作符来截取原数组中间的元素作为子数组。</p> <h2 id="使用解构赋值将对象作为函数的参数传递"><a href="#使用解构赋值将对象作为函数的参数传递" class="header-anchor">#</a> 使用解构赋值将对象作为函数的参数传递</h2> <p>在某些情况下，你可以在函数的参数里直接解构对象。</p> <p>请看以下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">profileUpdate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">profileData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> nationality<span class="token punctuation">,</span> location <span class="token punctuation">}</span> <span class="token operator">=</span> profileData<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面的操作解构了传给函数的对象。 这样的操作也可以直接在参数里完成：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">profileUpdate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> nationality<span class="token punctuation">,</span> location <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当 <code>profileData</code> 被传递到上面的函数时，从函数参数中解构出值以在函数内使用。</p> <h2 id="使用模板字面量创建字符串"><a href="#使用模板字面量创建字符串" class="header-anchor">#</a> 使用模板字面量创建字符串</h2> <p>模板字符串是 ES6 的另外一项新的功能。 这是一种可以轻松构建复杂字符串的方法。</p> <p>模板字符串可以使用多行字符串和字符串插值功能。</p> <p>请看以下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Zodiac Hasbro&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">56</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> greeting <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>person<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>person<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>控制台将显示字符串 <code>Hello, my name is Zodiac Hasbro!</code> 和 <code>I am 56 years old.</code>。</p> <p>这里发生了许多事情。 首先，这个例子使用反引号（<code>`</code>），而不是引号（<code>'</code> 或者 <code>&quot;</code>）将字符串括起来。 其次，注意代码和输出中的字符串都是多行的。 不需要在字符串中插入 <code>\n</code>。 上面使用的 <code>${variable}</code> 语法是一个占位符。 这样一来，你将不再需要使用 <code>+</code> 运算符来连接字符串。 当需要在字符串里增加变量的时候，你只需要在变量的外面括上 <code>${</code> 和 <code>}</code>，并将其放在模板字符串里就可以了。 同样，你可以在字符串中包含其他表达式，例如 <code>${a + b}</code>。 这个新的方式使你可以更灵活地创建复杂的字符串。</p> <h2 id="使用简单字段编写简洁的对象字面量声明"><a href="#使用简单字段编写简洁的对象字面量声明" class="header-anchor">#</a> 使用简单字段编写简洁的对象字面量声明</h2> <p>ES6 添加了一些很棒的功能，用于更方便地定义对象。</p> <p>请看以下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getMousePosition</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  x<span class="token operator">:</span> x<span class="token punctuation">,</span>
  y<span class="token operator">:</span> y
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>getMousePosition</code> 简单的函数，返回拥有两个属性的对象。 ES6 提供了一个语法糖，消除了类似 <code>x: x</code> 这种冗余的写法。 你可以只写一次 <code>x</code>，解释器会自动将其转换成 <code>x: x</code>（或效果相同的内容）。 下面是使用这种语法重写的同样的函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getMousePosition</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="用-es6-编写简洁的函数声明"><a href="#用-es6-编写简洁的函数声明" class="header-anchor">#</a> 用 ES6 编写简洁的函数声明</h2> <p>在 ES5 中，当我们需要在对象中定义一个函数的时候，必须像这样使用 <code>function</code> 关键字：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Taylor&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHello</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello! My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>用 ES6 的语法在对象中定义函数的时候，可以删除 <code>function</code> 关键词和冒号。 请看以下例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Taylor&quot;</span><span class="token punctuation">,</span>
  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello! My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="使用-class-语法定义构造函数"><a href="#使用-class-语法定义构造函数" class="header-anchor">#</a> 使用 class 语法定义构造函数</h2> <p>ES6 提供了一个新的创建对象的语法，使用关键字 class。</p> <p>值得注意的是，<code>class</code> 只是一个语法糖，它并不像 Java、Python 或者 Ruby 这一类的语言一样，严格履行了面向对象的开发规范。</p> <p>在 ES5 里面，我们通常会定义一个构造函数 <code>constructor</code>，然后使用 <code>new</code> 关键字来实例化一个对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">SpaceShuttle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">targetPlanet</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>targetPlanet <span class="token operator">=</span> targetPlanet<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> zeus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpaceShuttle</span><span class="token punctuation">(</span><span class="token string">'Jupiter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>class</code> 语法只是简单地替换了构造函数 <code>constructor</code> 的写法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">SpaceShuttle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">targetPlanet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>targetPlanet <span class="token operator">=</span> targetPlanet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> zeus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpaceShuttle</span><span class="token punctuation">(</span><span class="token string">'Jupiter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>应该注意 <code>class</code> 关键字声明了一个新的函数，里面添加了一个构造函数。 当用 <code>new</code> 创建一个新的对象时，构造函数会被调用。</p> <p>**注意：**首字母大写驼峰命名法 UpperCamelCase 是 ES6 class 命名的惯例，就像上面的 <code>SpaceShuttle</code>。</p> <p><code>constructor</code> 方法是一个特殊方法，用于创建和初始化 class 创建的对象。</p> <h2 id="使用-getter-和-setter-来控制对象的访问"><a href="#使用-getter-和-setter-来控制对象的访问" class="header-anchor">#</a> 使用 getter 和 setter 来控制对象的访问</h2> <p>你可以从对象中获得一个值，也可以给对象的属性赋值。</p> <p>这些操作通常被称为 getters 以及 setters。</p> <p>Getter 函数的作用是可以让对象返回一个私有变量，而不需要直接去访问私有变量。</p> <p>Setter 函数的作用是可以基于传进的参数来修改对象中私有变量。 这些修改可以是计算，或者是直接替换之前的值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">author</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_author <span class="token operator">=</span> author<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// getter</span>
  <span class="token keyword">get</span> <span class="token function">writer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_author<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// setter</span>
  <span class="token keyword">set</span> <span class="token function">writer</span><span class="token punctuation">(</span><span class="token parameter">updatedAuthor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_author <span class="token operator">=</span> updatedAuthor<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> novel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token string">'anonymous'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>novel<span class="token punctuation">.</span>writer<span class="token punctuation">)</span><span class="token punctuation">;</span>
novel<span class="token punctuation">.</span>writer <span class="token operator">=</span> <span class="token string">'newAuthor'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>novel<span class="token punctuation">.</span>writer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>控制台将显示字符串 <code>anonymous</code> 和 <code>newAuthor</code>。</p> <p>请注意用于调用 getter 和 setter 的语法。 它们甚至看起来不像是函数。 getter 和 setter 非常重要，因为它们隐藏了内部的实现细节。</p> <div class="custom-block tip"><p class="custom-block-title">注意</p> <p>通常会在私有变量前添加下划线（<code>_</code>）。 然而，这种做法本身并不是将变量变成私有的。</p></div> <h2 id="创建一个模块脚本"><a href="#创建一个模块脚本" class="header-anchor">#</a> 创建一个模块脚本</h2> <p>起初，JavaScript 几乎只在 HTML web 扮演一个很小的角色。 今天，一切不同了，很多网站几乎全是用 JavaScript 所写。 为了让 JavaScript 更模块化、更整洁以及更易于维护，ES6 引入了在多个 JavaScript 文件之间共享代码的机制。 它可以导出文件的一部分供其它文件使用，然后在需要它的地方按需导入。 为了使用这一功能， 需要在 HTML 文档里创建一个 <code>type</code> 为 <code>module</code> 的脚本。 例子如下：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filename.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用了 <code>module</code> 类型的脚本可以使用 <code>import</code> 和 <code>export</code> 特性</p> <h2 id="用-export-来重用代码块"><a href="#用-export-来重用代码块" class="header-anchor">#</a> 用 export 来重用代码块</h2> <p>假设有一个文件 <code>math_functions.js</code>，该文件包含了数学运算相关的一些函数。 其中一个存储在变量 <code>add</code> 里，该函数接受两个数字作为参数返回它们的和。 你想在几个不同的 JavaScript 文件中使用这个函数。 要实现这个目的，就需要 <code>export</code> 它。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面是导出单个函数常用方法，还可以这样导出：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>导出变量和函数后，就可以在其它文件里导入使用从而避免了代码冗余。 重复第一个例子的代码可以导出多个对象或函数，在第二个例子里面的导出语句中添加更多值也可以导出多项，例子如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> add<span class="token punctuation">,</span> subtract <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="通过-import-复用-javascript-代码"><a href="#通过-import-复用-javascript-代码" class="header-anchor">#</a> 通过 import 复用 JavaScript 代码</h2> <p><code>import</code> 可以导入文件或模块的一部分。 在之前的课程里，例子从 <code>math_functions.js</code> 文件里导出了 <code>add</code>。 下面看一下如何在其它文件导入它：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./math_functions.js'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在这里，<code>import</code> 会在 <code>math_functions.js</code> 里找到 <code>add</code>，只导入这个函数，忽略剩余的部分。 <code>./</code> 告诉程序在当前文件的相同目录寻找 <code>math_functions.js</code> 文件。 用这种方式导入时，相对路径（<code>./</code>）和文件扩展名（<code>.js</code>）都是必需的。</p> <p>通过在 <code>import</code> 语句里添加项目，可以从文件里导入多个项目，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> add<span class="token punctuation">,</span> subtract <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./math_functions.js'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="用-从文件中导入所有内容"><a href="#用-从文件中导入所有内容" class="header-anchor">#</a> 用 * 从文件中导入所有内容</h2> <p>假设你有一个文件，你希望将其所有内容导入到当前文件中。 可以用 <code>import * as</code> 语法来实现。 下面是一个从同目录下的 <code>math_functions.js</code> 文件中导入所有内容的例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> myMathModule <span class="token keyword">from</span> <span class="token string">&quot;./math_functions.js&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的 <code>import</code> 语句会创建一个叫作 <code>myMathModule</code> 的对象。 这只是一个变量名，可以随便命名。 对象包含 <code>math_functions.js</code> 文件里的所有导出，可以像访问对象的属性那样访问里面的函数。 下面是使用导入的 <code>add</code> 和 <code>subtract</code> 函数的例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myMathModule<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myMathModule<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="用-export-default-创建一个默认导出"><a href="#用-export-default-创建一个默认导出" class="header-anchor">#</a> 用 export default 创建一个默认导出</h2> <p>在 <code>export</code> 的课程中，你学习了命名导出语法， 这可以在其他文件中引用一些函数或者变量。</p> <p>还需要了解另外一种被称为默认导出的 <code>export</code> 的语法。 在文件中只有一个值需要导出的时候，通常会使用这种语法。 它也常常用于给文件或者模块创建返回值。</p> <p>下面是使用 <code>export default</code> 的例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>第一个是命名函数，第二个是匿名函数。</p> <p><code>export default</code> 用于为模块或文件声明一个返回值，在每个文件或者模块中应当只默认导出一个值。 此外，你不能将 <code>export default</code> 与 <code>var</code>、<code>let</code> 或 <code>const</code> 同时使用。</p> <h2 id="导入一个默认的导出"><a href="#导入一个默认的导出" class="header-anchor">#</a> 导入一个默认的导出</h2> <p>在上面，学习了 <code>export default</code> 的用法。 还需要一种 <code>import</code> 的语法来导入默认的导出。 在下面的例子里，<code>add</code> 是 <code>math_functions.js</code> 文件的默认导出。 以下是如何导入它：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> add <span class="token keyword">from</span> <span class="token string">&quot;./math_functions.js&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个语法有一处特别的地方， 被导入的 <code>add</code> 值没有被花括号（<code>{}</code>）所包围。 <code>add</code> 只是一个变量的名字，对应 <code>math_functions.js</code> 文件的任何默认导出值。 在导入默认导出时，可以使用任何名字。</p> <h2 id="创建一个-javascript-promise"><a href="#创建一个-javascript-promise" class="header-anchor">#</a> 创建一个 JavaScript Promise</h2> <p>Promise 是异步编程的一种解决方案 - 它在未来的某时会生成一个值。 任务完成，分执行成功和执行失败两种情况。 <code>Promise</code> 是构造器函数，需要通过 <code>new</code> 关键字来创建。 构造器参数是一个函数，该函数有两个参数 - <code>resolve</code> 和 <code>reject</code>。 通过它们来判断 promise 的执行结果。 用法如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> myPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="通过-resolve-和-reject-完成-promise"><a href="#通过-resolve-和-reject-完成-promise" class="header-anchor">#</a> 通过 resolve 和 reject 完成 Promise</h2> <p>Promise 有三个状态：<code>pending</code>、<code>fulfilled</code> 和 <code>rejected</code>。 上面创建的 promise 一直阻塞在 <code>pending</code> 状态里，因为没有调用 promise 的完成方法。 Promise 提供的 <code>resolve</code> 和 <code>reject</code> 参数就是用来结束 promise 的。 Promise 成功时调用 <code>resolve</code>，promise 执行失败时调用 <code>reject</code>， 如下文所述，这些方法需要有一个参数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> myPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>condition here<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;Promise was fulfilled&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;Promise was rejected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面的示例使用字符串作为这些函数的参数，但参数实际上可以是任何格式。 通常，它可能是一个包含数据的对象，你可以将它放在网站或其他地方。</p> <h2 id="用-then-处理-promise-完成的情况"><a href="#用-then-处理-promise-完成的情况" class="header-anchor">#</a> 用 then 处理 Promise 完成的情况</h2> <p>当程序需要花费未知的时间才能完成时（比如一些异步操作），一般是服务器请求，promise 很有用。 服务器请求会花费一些时间，当结束时，需要根据服务器的响应执行一些操作。 这可以用 <code>then</code> 方法来实现， 当 promise 完成 <code>resolve</code> 时会触发 <code>then</code> 方法。 例子如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>result</code> 即传入 <code>resolve</code> 方法的参数。</p> <h2 id="使用-catch-处理-promise-失败的情况"><a href="#使用-catch-处理-promise-失败的情况" class="header-anchor">#</a> 使用 catch 处理 Promise 失败的情况</h2> <p>当 promise 失败时会调用 <code>catch</code> 方法。 当 promise 的 <code>reject</code> 方法执行时会直接调用。 用法如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myPromise<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>error</code> 是传入 <code>reject</code> 方法的参数。</p> <div class="custom-block tip"><p class="custom-block-title">更多</p> <p><a href="https://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">ES6 入门教程 - ECMAScript 6入门 (ruanyifeng.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.runoob.com/w3cnote/es6-tutorial.html" target="_blank" rel="noopener noreferrer">1.1 ES6 教程 | 菜鸟教程 (runoob.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/notes/front-end/JavaScript/regular.html">
        正则表达式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/notes/assets/js/app.98e544da.js" defer></script><script src="/notes/assets/js/2.5375f91f.js" defer></script><script src="/notes/assets/js/13.f0d0efc4.js" defer></script>
  </body>
</html>
